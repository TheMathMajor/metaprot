<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Metabolite Analysis</title>

    <link rel="stylesheet" type="text/css" href="css/lib/bootstrap.min.css" />

</head>
<body>

    <!-- header -->
    <div th:include="fragments/header :: header"></div>

    <div class="container">
        <div class="row">
            <div class="col-sm-offset-3 col-sm-6">
                <h2>Select a .csv file to analyze:</h2>
                <div class="well well-lg">
                    <form class="form-group input-group" id="csv-upload-form">
                        <label for="fileInput">Select file: </label>
                        <input id="fileInput" type="file" class="form-control"/>

                        <br/>

                        <label for="pThreshold">Enter a P value threhshold</label>
                        <input type="text" class="form-control" placeholder="Default: 0.1" id="pThreshold" />

                        <br/>

                        <label for="fcThreshold">Enter a fold change threshold</label>
                        <input type="text" class="form-control" placeholder="Default: 1.5" id="fcThreshold" />

                        <input type="submit" value="Submit" class="form-control"/>
                    </form>
                </div>
                <div class="progress">
                    <div style="display:none" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        0% Complete
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- footer -->
    <div th:include="fragments/footer :: footer"></div>

</body>

<script type="text/javascript" src="js/lib/jquery-3.1.0.min.js"></script>
<script type="text/javascript" src="js/lib/bootstrap.min.js"></script>
<script type="text/javascript">
    $(function() {
        $('#csv-upload-form').on("submit", function(e) {
            e.preventDefault();

            $('.progress-bar').fadeIn(600);
            var counter = 0;
            var incrementProgressBar = function() {
                counter+=10;
                $('.progress-bar').css("width", counter + "%");

                if (counter == 100) {
                    console.log("done.");
                    return;
                }

                setTimeout(function () {
                    incrementProgressBar();
                }, 1500);
            };

            setTimeout(function() {
                incrementProgressBar();
            }, 1500);
        });
    });
</script>

</html>