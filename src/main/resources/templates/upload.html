<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <title>Upload file</title>

    <link rel="stylesheet" type="text/css" href="/css/lib/bootstrap.simplex.min.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link href="https://fonts.googleapis.com/css?family=Arimo" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/css/site.css" />
</head>
<body>

    <div th:include="fragments/header :: header"></div>

    <div class="container">
        <div class="row">
            <div class="col-sm-offset-3 col-sm-6">
                <h2>Upload a file</h2>
                <div class="alert-warning jumbotron">
                    Some things to note:<br/>
                    [list of things] <br/>
                    See sample CSV file: <a href="#">here</a>
                </div>
                <div class="well well-lg">
                    <form id="csv-upload-form" class="form-horizontal">
                        <fieldset>

                            <label for="fileInput">Select file: </label>
                            <input id="fileInput" type="file" class="form-control" required="required" />

                            <br/>
                            <input type="submit" value="Submit" class="form-control"/>
                            <input type="reset" value="Reset" class="form-control"/>

                        </fieldset>
                    </form>
                </div>
                <div id="progress-bar-display" class="transition transparent">
                    <h5>Upload Progress</h5>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                            0% Complete
                        </div>
                    </div>
                    <div id="progressText" class="text-center"></div><br/>
                </div>
            </div>
        </div>
    </div>

    <div th:include="fragments/footer :: footer"></div>

    <script type="text/javascript" src="/js/lib/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="/js/lib/bootstrap.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.4.12.min.js"></script>
    <script type="text/javascript" src="/js/aws/S3Uploader.js"></script>
    <script type="text/javascript">
        $(function() {
            $('#csv-upload-form').on("submit", function(e) {
                e.preventDefault();

                // upload w/ token

                // tell integrity checker to check

                // then relocate if pass, else display a message
                console.log("wooo")
                window.location.href = "/upload-pass/some-token-here";
            });
        });
    </script>

</body>
</html>