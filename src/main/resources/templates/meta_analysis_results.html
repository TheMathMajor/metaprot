<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text='${"Results for " + token + " | Metaprot"}'></title>
    <link rel="stylesheet" type="text/css" href="/css/lib/bootstrap.simplex.min.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link href="https://fonts.googleapis.com/css?family=Arimo" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/buttons/1.2.2/css/buttons.dataTables.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/css/site.css" />
</head>
<body>
    <div th:include="fragments/header :: header"></div>

    <div class="container results">
        <div class="row text-center">
            <div class="col-sm-offset-1 col-sm-10">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h2 class="panel-title" th:text='${"Results for task:" + token}'></h2>
                    </div>
                    <div class="panel-body">
                        <div>
                            Volcano plot
                            <img th:src='${"/metabolite-analysis/results/image/" + token + "/volcano.png"}' />
                        </div>
                        <div th:switch="${results.size()}">
                            <div th:case="0">No results</div>
                            <div th:case="*">
                                <table class="table table-striped table-bordered table-hover" id="results-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>P Value</th>
                                            <th>FDR</th>
                                            <th>Fold Change</th>
                                            <th>Significance</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="result : ${results}">
                                            <td th:text="${result.getIndex()}"></td>
                                            <td th:text="${result.getpValue()}"></td>
                                            <td th:text="${result.getFdr()}"></td>
                                            <td th:text="${result.getFoldChange()}"></td>
                                            <td th:text="${result.getResult()}"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="panel-footer">
                        Footer
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/js/lib/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="/js/lib/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="//cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js"></script>
    <script type="text/javascript" src="//cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>

    <script type="text/javascript">
        $(function(){
            var $resultsTable = $('#results-table');
            $resultsTable.DataTable({
                "dom": 'Bfrtip',
                "paging": true,
                "bFilter": false,
                "buttons":['csv', 'excel']
            });
        });
    </script>

    <div th:include="fragments/footer :: footer"></div>

</body>
</html>